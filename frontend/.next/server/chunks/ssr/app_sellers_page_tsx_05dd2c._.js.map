{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ghane/Downloads/Project_Swogyan_Send/Project_Swogyan_Send/frontend/app/sellers/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useWeb3 } from \"@/contexts/Web3Context\";\r\nimport { ethers } from \"ethers\";\r\n\r\ninterface ContractError {\r\n  message: string;\r\n  code?: string;\r\n  data?: unknown;\r\n}\r\n\r\nexport default function SellersPage() {\r\n  const { isConnected, contract } = useWeb3();\r\n  const [storeName, setStoreName] = useState(\"\");\r\n  const [itemId, setItemId] = useState(\"\");\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [imageURIs, setImageURIs] = useState<string[]>([]);\r\n  const [tokenURI, setTokenURI] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleRegisterSeller = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!contract) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      console.log(\"Attempting to register seller with store name:\", storeName);\r\n\r\n      // Get the contract and signer addresses\r\n      const contractAddress = await (contract as ethers.Contract).getAddress();\r\n      const signer = (contract as ethers.Contract).runner as ethers.Signer;\r\n      const signerAddress = await signer.getAddress();\r\n\r\n      console.log(\"Contract address:\", contractAddress);\r\n      console.log(\"Sender address:\", signerAddress);\r\n\r\n      const tx = await contract.registerAsSeller(storeName, {\r\n        value: ethers.parseUnits(\"10\", \"gwei\"),\r\n        gasLimit: 200000,\r\n      });\r\n\r\n      console.log(\"Transaction hash:\", tx.hash);\r\n      console.log(\"Waiting for transaction confirmation...\");\r\n\r\n      await tx.wait();\r\n      console.log(\"Transaction confirmed!\");\r\n      alert(\"Successfully registered as seller!\");\r\n    } catch (error: unknown) {\r\n      console.error(\"Error registering seller:\", error);\r\n      const contractError = error as ContractError;\r\n      alert(\r\n        `Error registering seller: ${contractError.message || \"Unknown error\"}`\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleListItem = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!contract) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const tx = await contract.listItem(\r\n        itemId,\r\n        itemName,\r\n        ethers.parseUnits(price, \"gwei\"),\r\n        imageURIs,\r\n        true,\r\n        tokenURI\r\n      );\r\n      await tx.wait();\r\n      alert(\"Successfully listed item!\");\r\n    } catch (error: unknown) {\r\n      console.error(\"Error listing item:\", error);\r\n      const contractError = error as ContractError;\r\n      alert(`Error listing item: ${contractError.message || \"Unknown error\"}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <div className=\"min-h-screen pt-24 px-4\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"p-8 bg-white rounded-lg shadow\">\r\n            <p className=\"text-center text-lg\">\r\n              Please connect your wallet first.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!contract) {\r\n    return (\r\n      <div className=\"min-h-screen pt-24 px-4\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"p-8 bg-white rounded-lg shadow\">\r\n            <p className=\"text-center text-lg\">\r\n              Loading marketplace contract...\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-24 px-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold mb-8\">Seller Dashboard</h1>\r\n\r\n        {/* Register as Seller Form */}\r\n        <div className=\"mb-12 p-6 bg-white rounded-lg shadow\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Register as Seller</h2>\r\n          <form onSubmit={handleRegisterSeller}>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block mb-2\">Store Name</label>\r\n              <input\r\n                type=\"text\"\r\n                value={storeName}\r\n                onChange={(e) => setStoreName(e.target.value)}\r\n                className=\"w-full p-2 border rounded\"\r\n                required\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"bg-luxury-black text-white px-4 py-2 rounded-full disabled:opacity-50\"\r\n            >\r\n              {loading ? \"Processing...\" : \"Register (10 GWEI)\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* List Item Form */}\r\n        <div className=\"p-6 bg-white rounded-lg shadow\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">List New Item</h2>\r\n          <form onSubmit={handleListItem}>\r\n            <div className=\"grid gap-4\">\r\n              <div>\r\n                <label className=\"block mb-2\">Item ID</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={itemId}\r\n                  onChange={(e) => setItemId(e.target.value)}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-2\">Item Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={itemName}\r\n                  onChange={(e) => setItemName(e.target.value)}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-2\">Price (in GWEI)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={price}\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-2\">\r\n                  Image URIs (IPFS CIDs, comma-separated)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={imageURIs.join(\",\")}\r\n                  onChange={(e) =>\r\n                    setImageURIs(\r\n                      e.target.value.split(\",\").map((uri) => uri.trim())\r\n                    )\r\n                  }\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block mb-2\">Token URI</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={tokenURI}\r\n                  onChange={(e) => setTokenURI(e.target.value)}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"mt-4 bg-luxury-black text-white px-4 py-2 rounded-full disabled:opacity-50\"\r\n            >\r\n              {loading ? \"Processing...\" : \"List Item\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}